<div class="container mx-auto px-4 py-8 max-w-2xl">
  <mat-card class="p-6 shadow-lg">
    <mat-card-header class="mb-4">
      <mat-card-title class="text-xl font-bold">
        @if (isEditMode) {
          Editar Contacto
        } @else {
          Crear Nuevo Contacto
        }
      </mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-4">
        <mat-form-field appearance="fill" class="w-full">
          <mat-label>Nombre</mat-label>
          <input matInput formControlName="name" required>
          @if (form.get('name')?.hasError('required')) {
            <mat-error>El nombre es requerido</mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="fill" class="w-full">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" type="email" required>
          @if (form.get('email')?.hasError('required')) {
            <mat-error>El email es requerido</mat-error>
          }
          @if (form.get('email')?.hasError('email')) {
            <mat-error>Ingrese un email válido</mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="fill" class="w-full">
          <mat-label>Teléfono</mat-label>
          <input [maxlength]="10" matInput formControlName="phone" required>
          @if (form.get('phone')?.hasError('required')) {
            <mat-error>El teléfono es requerido</mat-error>
          }
          @if (form.get('phone')?.hasError('invalidPhone')) {
            <mat-error>Ingrese un teléfono válido</mat-error>
          }
        </mat-form-field>

        <div class="flex justify-end gap-2 pt-4">
          <button 
            mat-stroked-button 
            type="button"
            (click)="returnList()"
            class="mr-2"
          >
            Cancelar
          </button>
          <button 
            mat-raised-button 
            color="primary" 
            type="submit"
            [disabled]="form.invalid"
          >
            @if (isEditMode) {
              Actualizar
            } @else {
              Guardar
            }
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>